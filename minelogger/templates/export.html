{% extends "base.html" %}
{% block content %}
<div class="card">
  <h2 style="margin-top:0">Export to CSV</h2>
  <form method="post" action="/export">
    <div class="form-grid">
      <div class="form-row">
        <label for="date_from">From date</label>
        <input type="date" id="date_from" name="date_from">
      </div>
      <div class="form-row">
        <label for="date_to">To date</label>
        <input type="date" id="date_to" name="date_to">
      </div>
    </div>
    <div class="form-row">
      <label for="customer">Customer (optional)</label>
      <select id="customer" name="customer">
        <option value="">All customers</option>
        {% for c in customers %}
          <option value="{{ c }}">{{ c }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="form-row">
      <label for="filename">Output filename</label>
      <input type="text" id="filename" name="filename" value="export" placeholder="export">
    </div>
    <button type="submit" class="btn">Download CSV</button>
  </form>

  <hr style="border:none;border-top:1px solid #e8e8e8;margin:2rem 0">

  <h2 style="margin-top:0">Import from CSV</h2>
  <p style="margin-top:0;color:#555;font-size:0.9rem">
    Upload a CSV file exported from mineLogger. Duplicate entries (same date, customer,
    hours, and description) are skipped automatically.
  </p>
  <form method="post" action="/import" enctype="multipart/form-data">
    <div class="form-row" style="max-width:420px">
      <label for="csv_file">CSV file</label>
      <input type="file" id="csv_file" name="csv_file" accept=".csv">
    </div>
    <button type="submit" class="btn">Import</button>
  </form>
</div>
{% endblock %}
